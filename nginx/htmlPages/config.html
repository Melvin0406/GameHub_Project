<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Configuración</title>
  <style>
    /*
      Permite cambiar el nombre de usuario (almacenado en localStorage)
      y el color de fondo de la página (themeColor).
    */
    body {
      margin: 0; 
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
    }
    header {
      background-color: #007BFF;
      color: #fff;
      padding: 1rem;
      text-align: center;
    }
    nav a {
      color: #fff;
      margin: 0 1rem;
      text-decoration: none;
    }
    main {
      padding: 2rem;
      max-width: 600px;
      margin: 0 auto;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }
    input[type="text"] {
      padding: 0.5rem;
      width: 100%;
      margin-bottom: 1rem;
    }
    select {
      padding: 0.5rem;
      margin-bottom: 1rem;
      width: 100%;
    }
    button {
      background-color: #007BFF;
      color: #fff;
      border: none;
      padding: 0.8rem 1.2rem;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <!-- 
    Configuración de nombre (username) y color de fondo (themeColor).
    Todo se guarda en localStorage para simular persistencia.
  -->
  <header>
    <h1>Configuración de la Cuenta</h1>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="games.html">Juegos</a>
      <a href="startStream.html">Iniciar Stream</a>
      <a href="messages.html">Mensajes Privados</a>
      <a href="email.html">Enviar Correo</a>
    </nav>
  </header>

  <main>
    <h2>Cambiar Nombre y Color de Fondo</h2>
    <div>
      <label for="newUsername">Nuevo nombre de usuario:</label>
      <input type="text" id="newUsername" placeholder="Escribe tu nuevo nombre">
    </div>
    <div>
      <label for="colorSelect">Color de Fondo:</label>
      <select id="colorSelect">
        <option value="">(Por defecto)</option>
        <option value="#f2f2f2">Claro</option>
        <option value="#111">Oscuro</option>
        <option value="#FFCCCC">Rosa claro</option>
        <option value="#CCFFCC">Verde claro</option>
        <option value="#CCE5FF">Azul claro</option>
      </select>
    </div>
    <button id="saveBtn">Guardar Configuración</button>
  </main>

  <script>
    // Al cargar, mostramos el nombre actual y color actual
    const storedUser = localStorage.getItem('username');
    const newUsername = document.getElementById('newUsername');
    if (storedUser) {
      newUsername.value = storedUser;
    }

    const storedColor = localStorage.getItem('themeColor');
    const colorSelect = document.getElementById('colorSelect');
    if (storedColor) {
      colorSelect.value = storedColor;
      document.body.style.backgroundColor = storedColor;
    }

    // Botón para guardar config
    const saveBtn = document.getElementById('saveBtn');
    saveBtn.addEventListener('click', () => {
      // Guardamos el nuevo nombre
      if (newUsername.value.trim() !== '') {
        localStorage.setItem('username', newUsername.value.trim());
      }
      // Guardamos el color elegido
      const color = colorSelect.value;
      if (color) {
        localStorage.setItem('themeColor', color);
      } else {
        localStorage.removeItem('themeColor');
      }
      alert('Configuración guardada');
      location.reload();
    });
  </script>
</body>
</html>
